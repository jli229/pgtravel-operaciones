$(document).ready(function(){$("table").on("click","a.btn-view",function(c){c.preventDefault();var b=$("#modal-view");b.modal();b.find("a.btn-primary").attr("href",$(this).data("edit-url"));b.find(".modal-body").empty().append($("<p>"+Translator.trans("Loading data...")+"</p>")).load($(this).attr("href"))});var a=$("#datatable-x");a.dataTable({order:[[1,"asc"]],aoColumns:[{name:"name"},{name:"startAt"},{name:"endAt"},{sortable:false,searchable:false}],serverSide:true,processing:true,ajax:{method:"post",url:Routing.generate("app_bookings_getdata")}});a.on("draw.dt",function(){$(this).find("input").iCheck({checkboxClass:"icheckbox_flat-green"});$(this).find(".btn-cancel").on("click",function(c){c.preventDefault();var d=$(this),b=d.attr("href");swal({title:Translator.trans("Confirm operation"),text:Translator.trans("The record will be cancelled. Are you sure you want to continue?"),type:"warning",showCancelButton:true,confirmButtonColor:"#d9534f"},function(e){if(e){d.closest("td").text(Translator.trans("Updating...")).closest("tr").addClass("row-removing");$.ajax(b,{dataType:"json",method:"post",success:function(f){a.dataTable().api().draw(false)}})}})});$(this).find("a.btn-remove").on("click",function(c){c.preventDefault();var b=$(this).attr("href"),d=$(this);swal({title:Translator.trans("Confirm remove"),text:Translator.trans("The record will be removed. Are you sure you want to continue?"),type:"warning",showCancelButton:true,confirmButtonColor:"#d9534f"},function(e){if(e){d.closest("td").text(Translator.trans("Removing...")).closest("tr").addClass("row-removing");$.ajax(b,{dataType:"json",method:"post",success:function(f){a.find("tr.row-removing").remove();a.dataTable().api().draw(false)}})}})})})});